<table class="stock-table">
  <tbody>
    <tr *ngIf="!isEditFormVisible">
      <td>{{ stock.name }}</td>
      <td>{{ stock.code }}</td>
      <td [ngClass]="stock.isPositiveChange() ? 'positive' : 'negative'">
        $ {{ stock.price }}
      </td>
      <td>
        <span *ngIf="stock.favorite">★ Đã yêu thích</span>
        <button *ngIf="!stock.favorite" (click)="toggleFavorite()">Thêm vào yêu thích</button>
      </td>
      <td>
        <button (click)="editStock()">Chỉnh sửa</button>
        <button (click)="deleteStock()">Xóa</button>
      </td>
    </tr>

    <tr *ngIf="isEditFormVisible" class="edit-row">
      <td colspan="5">
        <div class="edit-stock-form">
          <h3>Chỉnh sửa cổ phiếu</h3>
          <form (ngSubmit)="onEditStock(stock)">
            <label for="name">Tên:</label>
            <input type="text" id="name" [(ngModel)]="stock.name" name="name" required>

            <label for="code">Mã:</label>
            <input type="text" id="code" [(ngModel)]="stock.code" name="code" required>

            <label for="price">Giá:</label>
            <input type="number" id="price" [(ngModel)]="stock.price" name="price" required>

            <button type="submit">Lưu</button>
            <button type="button" (click)="cancelEdit()">Hủy</button>
          </form>
        </div>
      </td>
    </tr>
  </tbody>
</table>